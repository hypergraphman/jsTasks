<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Button Style</title>
    <style>
        .buttonPanel {
            text-align: center;
        }
        button[name="generationDiv"] {
            width: 200px;
        }
    </style>
</head>
<body>
    <div class = "buttonPanel"><button type="button" name="generationDiv">Generation DIV</button></div>
    <div id="canvas"></div>

    <script>
        let activeDiv;
        let doc = document;
        let button = doc.querySelector("button[name='generationDiv']");
        let canvas = doc.querySelector("#canvas");
        let offsetX = 0,
            offsetY = 0;

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        let mDown = (e) => {
            activeDiv = e.target;
            offsetX = e.offsetX;
            offsetY = e.offsetY;

            // чтобы выбранный див оказывался на самом верху
            canvas.insertBefore(activeDiv, canvas.firsChild);
        };
        let mUp = (e) => {
            activeDiv = null;
        };
        let mMove = (e) => {
            if(activeDiv) {
                activeDiv.style.left = e.clientX - offsetX + 'px';
                activeDiv.style.top = e.clientY - offsetY + 'px';
            }
        };

        canvas.addEventListener('mousedown', mDown);
        canvas.addEventListener('mouseup', mUp);
        canvas.addEventListener('mousemove', mMove);


        let buttonClick = (event) => {

            // создаем элемент див со всеми параметрами и событиями и добавляем на холст
            // в качестве холста у нас элемент div с id="canvas"
            let div = doc.createElement('div');
            let sideOfSquare = getRandomInt(10, 200),
                red   = getRandomInt(0, 255),
                green = getRandomInt(0, 255),
                blue  = getRandomInt(0, 255),
                alfaChanel   = Math.random(),
                left = getRandomInt(15, window.innerWidth - sideOfSquare - 15),
                top  = getRandomInt(30, window.innerHeight - sideOfSquare - 15);

            div.style.position = 'absolute';
            div.style.width  = `${sideOfSquare}px`;
            div.style.height = `${sideOfSquare}px`;
            div.style.background = `rgba(${red}, ${green}, ${blue}, ${alfaChanel})`;
            div.style.left = left + 'px';
            div.style.top  = top + 'px';

            canvas.appendChild(div);
        };

        button.addEventListener('click', buttonClick);
    </script>
</body>
</html>